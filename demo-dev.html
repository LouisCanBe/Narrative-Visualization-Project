<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
	<link href="https://ai-public.mastergo.com/gen_page/tailwind-custom.css" rel="stylesheet" />
	<script
		src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
	<script src="https://ai-public.mastergo.com/gen_page/tailwind-config.min.js" data-color="#D20000"
		data-border-radius="medium"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.min.js"></script>

	<style>
		@font-face {
			font-family: 'Chillzhuo';
			src: url('/fonts/寒蝉手拙体.ttf') format('truetype');
		}

		/* 确保html和body的宽度和高度为100% */
		html,
		body {
			width: 100%;
			height: 100%;
			margin: 0;
			/* 去掉默认边距 */
		}

		/* 隐藏默认滚动条 */
		::-webkit-scrollbar {
			width: 8px;
		}

		/* 滚动条轨道 */
		::-webkit-scrollbar-track {
			background: rgba(0, 0, 0, 0.1);
		}

		/* 滚动条滑块 */
		::-webkit-scrollbar-thumb {
			background: rgba(210, 0, 0, 0.5);
			border-radius: 4px;
		}

		/* 鼠标悬停在滑块上的效果 */
		::-webkit-scrollbar-thumb:hover {
			background: rgba(210, 0, 0, 0.8);
		}

		.line {
			color: #FFF;
			/* font-family: "Alibaba PuHuiTi 2.0"; */
			font-family: 'Chillzhuo', sans-serif;
			font-size: 60px;
			font-style: normal;
			font-weight: 70;
			line-height: normal;
			letter-spacing: 10px;
		}

		.line.black {
			color: #000;
		}

		.line.red {
			color: #C10200;
		}

		.factory_img.factory_1 {
			display: none;
		}

		.factory_img.factory_2 {
			display: none;
		}

		.factory_img.factory_3 {
			display: none;
		}

		.factory_img.factory_4 {
			display: none;
		}

		.factory_img.factory_5 {
			display: none;
		}

		.factory_img.factory_1.active {
			display: block;
		}

		.factory_img.factory_2.active {
			display: block;
		}

		.factory_img.factory_3.active {
			display: block;
		}

		.factory_img.factory_4.active {
			display: block;
		}

		.factory_img.factory_5.active {
			display: block;
		}
	</style>
</head>

<body class="bg-black text-white overflow-x-hidden">
	<!-- 添加自动滚动按钮 -->
	<button id="scrollToggle" class="fixed bottom-10 right-10 bg-red-500 text-white p-2 rounded" style="z-index: 10;">
		开启自动滚动
	</button>
	<nav class="fixed top-0 w-full bg-black bg-opacity-80 backdrop-blur-sm z-50">
		<div class="container mx-auto px-6 py-4">
			<div class="flex justify-between items-center">
				<div class="text-2xl font-bold">我，辣条</div>
				<div class="hidden md:flex space-x-8">
					<a href="#intro" class="hover:text-custom transition-colors">intro</a>
					<a href="#origin" class="hover:text-custom transition-colors">诞生</a>
					<a href="#assistance" class="hover:text-custom transition-colors">帮扶</a>
					<a href="#constraint" class="hover:text-custom transition-colors">约束</a>
					<a href="#transform" class="hover:text-custom transition-colors">转型</a>
					<a href="#review" class="hover:text-custom transition-colors">回顾</a>
					<a href="#summary" class="hover:text-custom transition-colors">总结</a>
				</div>
				<button class="md:hidden text-2xl">
					<i class="fas fa-bars"></i>
				</button>
			</div>
		</div>
	</nav>
	<main class="relative min-h-screen w-full">
		<div id="bg">
			<div class="fixed inset-0 w-full h-full transition-opacity duration-1000">
				<img src="img/s1_bg01.png" class="w-full h-full object-cover" alt="背景图片" />
			</div>
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/s2_bg02.svg" class="w-full h-full object-cover" alt="背景图片2" />
			</div>
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/s3_bg03.png" class="w-full h-full object-cover" alt="背景图片3" />
			</div>
			<!-- 后续章节待更新 -->
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/s4_bg04.png" class="w-full h-full object-cover" alt="背景图片3" />
			</div>
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/s5_bg04.png" class="w-full h-full object-cover" alt="背景图片4" />
			</div>
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/image (5).png" class="w-full h-full object-cover" alt="背景图片5" />
			</div>
			<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
				<img src="img/image (5).png" class="w-full h-full object-cover" alt="背景图片6" />
			</div>
		</div>
		<div id="content" class="relative pt-24 pb-20 w-full">

			<section id="intro" class="flex flex-col items-center justify-center">
				<img id="spicy-strip" src="img/s1_latiao.svg" alt="辣条开始"
					style="width: 25vw; position: fixed; top: 120%; left: 50%; transform: translate(-50%, -50%);">
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 创建 GSAP 动画，滚动一定距离后再边滚动边消失
						var tween = gsap.timeline();
						tween.to("#spicy-strip", { y: -800, duration: 1 })
							.to("#spicy-strip", { opacity: 0, duration: 1 }, "-=0.5");

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#intro",
							duration: 400,
							offset: 600
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
				<div style="height: 50vh;"></div>
				<div class="line line_1">我，一根辣条</div>
				<div class="line line_1">那在便利店、街头小摊以及学校随处可见的平凡零食</div>
				<div class="line line_1">我已经成为了人们生活中的一部分</div>
				<div class="line line_1">无论是在课间休息时的解馋，还是在忙碌工作中的片刻放松</div>
				<div class="line line_1">然而，谁又能想到</div>
				<div class="line">一根辣条，曾左右一个地方的脱贫致富</div>
				<div class="line">甚至带动一个企业的上市</div>

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".line_1", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 })
							.to(".line_1", { opacity: 0, duration: 1, stagger: 0.5, delay: 0.5 }, 0.5)


						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#intro",
							duration: 400,
							offset: 300 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<div style="display: flex; justify-content: center; gap: 20px;">
					<img class="zuofang" src="img/s1_zuofang.png" alt="作坊" style="width: 40vw; opacity: 0;">
					<img class="zuofang" src="img/s1_factory.png" alt="工厂" style="width: 45vw; opacity: 0;">
					<script>
						(function () {
							// 初始化 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 创建 GSAP 动画，使用 stagger
							var tween = gsap.to(".zuofang", { opacity: 1, duration: 1, stagger: 0.5 });

							// 创建 ScrollMagic 场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#intro",
								duration: 100,
								offset: 500
							})
								.setTween(tween)
								.addIndicators() // 添加指示器（需要插件）
								.addTo(controller);
						})();
					</script>

				</div>
				<div style="height: 10vh;"></div>
				<img src="img/s1_title.png" alt="辣条正传" style="width: 200vw; z-index: 999;">
				<img src="img/s1_xiaola.gif" alt="s1_xiaola style=" width: 40vw; margin-top: -150px; z-index: 1;">
				<img src="img/s1_intro.svg" alt="字1" style="width: 120vw;" class="min-w-screen">
				<div style="height: 100vh;"></div>
			</section>

			<section id="origin" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<div id="chapter1" class="line title chapter_1"
					style="text-align: center; opacity: 1; font-size: 100px;">CHAPTER 1</div>
				<div class="line title chapter_1" style="text-align: center; opacity: 1; font-size: 160px;">诞生于洪水的滋味
				</div>
				<div style="height: 30vh;"></div>

				<div id="xiangxiang" class="line_2 line" style="text-align: center; opacity: 0;">我诞生于一场湿漉漉的"想象"</div>
				<div style="height: 30vh;"></div>
				<div class="line_2 line" style="text-align: center; opacity: 0;">1998年,受厄尔尼诺现象影响,
					<br>长江流域爆发大规模洪水,湖南省平江县受灾严重
				</div>
				<div style="height: 30vh;"></div>
				<div class="line_2 line" style="text-align: center; opacity: 0;">平江县最大的产业酱干的原料大豆, <br>大幅度减产,生意难以为继</div>
				<div style="display: flex; justify-content: center; gap: 50vw; transform: translateY(-250px);"
					id="chanliangid">
					<img class="chanliang" src="img/s2_面积产量.svg" style="width: 20vw">
					<img class="chanliang" src="img/s2_洪水中大豆产量.svg" style="width: 20vw">
				</div>
				<div style="height: 20vh;"></div>


				<div style="height: 20vh;"></div>

				<!-- 添加一个和视窗一样的 div 做背景板 -->
				<div id="background"
					style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: #0B2A52; z-index: 0; opacity: 0;">
				</div>

				<div style="height: 900px;">
					<img id="rain" class="scroll-image" src="img/s2_下雨.svg" alt="下雨"
						style="width: 900px; transform: translate(-500px, -300px);">
					<img id="secret" class="scroll-image" src="img/s2_秘方.svg" alt="秘方"
						style="width: 150px; transform: translate(-500px, -650px);">
					<img class="scroll-image" src="img/s2_替代.svg" alt="替代"
						style="width: 400px; transform: translate(-300px, -1200px);">
					<img class="scroll-image" id="exportImage" src="img/s2_出口.svg" alt="出口"
						style="width: 100px; transform: translate(-135px, -950px);">
					<img id="latiao" class="scroll-image" src="img/s2_辣条.svg" alt="辣条"
						style="width: 700px; transform: translate(-195px, -1000px);">


					<script>
						(function () {
							// 初始化 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 使用 GSAP 的 fromTo 创建动画
							var tween = gsap.fromTo("#background", { opacity: 0 }, { opacity: 1, duration: 1 });

							// 创建 ScrollMagic 场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#rain",
							})
								.setTween(tween)
								.addIndicators() // 添加指示器（需要插件）
								.addTo(controller);
						})();
					</script>

					<div class="line_3 line"
						style="text-align: left; opacity: 1; transform: translate(300px, -3000px);">
						<div class="line3">面对灾情</div>
						<div class="line3">老张拿着一张“酱干”配方</div>
						<div class="line3">利用”面粉“代替了原料“大豆”</div>
						<div class="line3">倒入了“米线机”中，翻滚、压扁、拉长</div>
						<div class="line3">于是，第一根“辣条”-我诞生了</div>
					</div>
				</div>

				<div style="width: 1600px; z-index: 1;">
					<img src="img/s2girl.svg" style="width: 100%; ">
					<img src="img/s2真好吃.svg" style="width: 30%; transform: translate(900px, -800px);">
				</div>
				<div style="height: 50vh;"></div>
				<div style="width: 100%; height: 1000px;">
					<img src="img/s2我火辣.svg"
						style="width: 40%; display: block; margin: 0 auto; position: relative; z-index: 1;" id="fire">
					<img src="img/s2滋味背景.svg"
						style="width: 100%; transform: translateY(-50%); position: relative; z-index: 0; opacity: 0;"
						id="feather">

					<script>
						(function () {
							// 初始化 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 使用 GSAP 的 fromTo 创建动画
							var tween = gsap.timeline({ repeat: -1, yoyo: true });
							tween.fromTo("#feather", { opacity: 0 }, { opacity: 1, duration: 0.5 })
								.to("#feather", { y: "+=40", x: "+=40", scale: 1.05, duration: 0.5, ease: "power1.inOut", yoyo: true, repeat: -1 })
								.to("#feather", { y: "-=40", x: "-=40", scale: 0.95, duration: 0.5, ease: "power1.inOut", yoyo: true, repeat: -1 });

							// 创建 ScrollMagic 场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#fire",
								offset: 0 // 添加 offset，延迟一定距离触发
							})
								.setTween(tween)
								.addIndicators() // 添加指示器（需要插件）
								.addTo(controller);
						})();
					</script>
				</div>



				<div style="width: 100%; height: 1000px;">
					<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; z-index: 1; 
					transform: translateY(10%);">
						<div class="line">我出现在平江的各种小卖部中</div>
						<div class="line" id="lineToAnimate" style="text-align: center;">
							一被摆上货架就被迅速清空<br>尤其是每天都能看见疯抢的人类小孩</div>

					</div>
					<img src="img/s2人类小孩.svg" id="human"
						style="width: 50%; display: block; margin: 0 auto; position: relative; z-index: 1;">
					<img src="img/s2辣条商店.svg"
						style="width: 100%; transform: translateY(-100%); position: relative; z-index: 0;">
				</div>

				<div style="height: 600px;"></div>

				<img src="img/s2招牌.svg" style="width:60%; z-index: 1">
				<div style="height: 600px;"></div>
				<img src="img/s2众多辣条.svg" style="width:100%; z-index: 1">

				<div style="height: 1vh;" id="logo"></div>

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 fromTo 创建动画
						var tween = gsap.fromTo("#background", { opacity: 1 }, { opacity: 0, duration: 1 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#logo",
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".chapter_1", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 })
						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#chapter1",
							offset: 0 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".line_2", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 1 })
							.to(".line_2", { opacity: 0, duration: 1, stagger: 1, delay: 1 }, 1);
						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#xiangxiang",
							duration: 1800,
							offset: 0 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>


				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，使用 stagger
						var tween = gsap.fromTo(".chanliang", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#chanliangid",
							duration: 80,
							// offset: 800
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，控制 opacity 出现
						var tween = gsap.fromTo(["#lineToAnimate", "#human"], { opacity: 0 }, { opacity: 1, duration: 0.5, stagger: 1 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#lineToAnimate",
							offset: 200
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，依次显示图片
						var tween = gsap.fromTo(".scroll-image", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#rain",
							duration: 200
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<script>
					gsap.to("#exportImage", {
						rotation: 360,
						transformOrigin: "center center",
						repeat: -1,
						ease: "linear",
						duration: 3
					});
				</script>

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，逐行显示
						var tween = gsap.fromTo(".line3", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: ".line_3",
							duration: 200
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
			</section>

			<section id="assistance" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<!-- 原来的图片标题 -->
				<!-- <img class="line_3 line title" src="img/s3_title.svg" alt="帮扶" style="width: 40vw; opacity: 0;"> -->
				<div class="line_3 line black title"
					style="text-align: center; opacity: 1; font-size: 100px;z-index: 1;">CHAPTER 2</div>
				<div class="line_3 line black title"
					style="text-align: center; opacity: 1; font-size: 160px;z-index: 1;">修一条通往外面的路</div>
				<div style="height: 80vh;"></div>
				<!-- 背景图片 -->
				<div class="fullscreen_overlay"
					style="position: fixed; width: 100vw; height: 100vh; top: 0; left: 0; background-color: black; opacity: 0; z-index: 0;">
				</div>
				<div style="display: flex; justify-content: space-between; width: 100%;z-index: 1;">
					<div style="width: 50%; display: flex; align-items: center; position: relative;">
						<img class="factory_img" src="img/s3_工厂.png" alt="工厂图片"
							style="width: 30vw; position: fixed; left: 10%; top: 50%; transform: translateY(-50%); z-index: 1; ;">
						<img class="factory_img factory_1" src="img/s3_工厂1.png" alt="工厂图片"
							style="width: 30vw; position: fixed; left: 10%; top: 50%; transform: translateY(-50%); z-index: 1; ;">
						<img class="factory_img factory_2" src="img/s3_工厂2.png" alt="工厂图片"
							style="width: 30vw; position: fixed; left: 10%; top: 50%; transform: translateY(-50%); z-index: 1; ">
						<img class="factory_img factory_3" src="img/s3_工厂3.png" alt="工厂图片"
							style="width: 30vw; position: fixed; left: 10%; top: 50%; transform: translateY(-50%); z-index: 1; ;">
						<img class="factory_img factory_4" src="img/s3_工厂4.png" alt="工厂图片"
							style="width: 30vw; position: fixed; left: 10%; top: 50%; transform: translateY(-50%); z-index: 1; display: none;">
					</div>
					<div style="width: 50%; margin-left: auto;z-index: 1;">
						<div style="height: 80vh;"></div>
						<!-- 每个文字块单独设置class -->
						<div class="text-block line_3 line" id="text1" style="text-align: left; opacity: 0;">
							老张把"米线机"给淘汰了，<br>取而代之的是有着许多巨大轰鸣声的"铁皮机器"</div>
						<div style="height: 50vh;"></div>
						<div class="text-block line_3 line" id="text2" style="text-align: left; opacity: 0;">
							工坊中的"人类"也越来越多</div>
						<div style="height: 50vh;"></div>
						<div class="text-block line_3 line" id="text3" style="text-align: left; opacity: 0;">
							外面偶尔出现几台"卡车"，<br>将一部分我送入"那片黑暗"，嘴里嘟囔着"走出去"</div>
						<div style="height: 50vh;"></div>
						<div class="text-block line_3 line" id="text4" style="text-align: left; opacity: 0;">
							工厂的声音似乎在一天天的变大，<br>每天都有更多新的我被生产出来，被运出去。</div>
					</div>
				</div>
				<script>
					// 标题
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".title", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 1 })
							.to(".title", { opacity: 0, duration: 1, stagger: 1, delay: 1 }, 1);
						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#assistance",
							duration: 1800,
							offset: -300 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();

					// 文字
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 为每个文字块创建单独的动画
						document.querySelectorAll('.text-block').forEach((block, index) => {
							var tween = gsap.timeline()
								.fromTo(block,
									{ opacity: 0 },
									{ opacity: 1, duration: 1 }
								)
								.to(block,
									{ opacity: 0, duration: 1 },
									"+=1" // 停留2秒后淡出
								);

							// 为每个文字块创建单独的场景
							var scene = new ScrollMagic.Scene({
								triggerElement: block,
								duration: 800,    // 动画持续的滚动距离
								offset: -300      // 提前触发的距离
							})
								.setTween(tween)
								.addIndicators() // 开发时可以保留，上线前删除
								.addTo(controller);
						});
					})();

					// 工厂图片
					(function () {
						var controller = new ScrollMagic.Controller();

						// 创建淡入淡出动画
						var tween = gsap.timeline()
							.fromTo(".factory_img",
								{ opacity: 0 },
								{ opacity: 1, duration: 1 }
							)
							.to(".factory_img",
								{ opacity: 0, duration: 1 },
								"+=2" // 停留2秒后开始淡出
							);

						// 创建场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#assistance",
							duration: 3500,  // 动画持续的滚动距离
							offset: 1000     // 开始的偏移量
						})
							.setTween(tween)
							.addIndicators() // 开发时可以保留，上线前删除
							.addTo(controller);
					})();

					(function () {
						// init controller
						var controller = new ScrollMagic.Controller({ globalSceneOptions: { duration: 5600 } });
						// build scenes for factory images
						new ScrollMagic.Scene({ triggerElement: "#text1" })
							.setClassToggle(".factory_img.factory_1", "active") // add class toggle for factory image 1
							.addIndicators() // add indicators (requires plugin)
							.addTo(controller);
						new ScrollMagic.Scene({ triggerElement: "#text2" })
							.setClassToggle(".factory_img.factory_2", "active") // add class toggle for factory image 2
							.addIndicators() // add indicators (requires plugin)
							.addTo(controller);
						new ScrollMagic.Scene({ triggerElement: "#text3" })
							.setClassToggle(".factory_img.factory_3", "active") // add class toggle for factory image 3
							.addIndicators() // add indicators (requires plugin)
							.addTo(controller);
						new ScrollMagic.Scene({ triggerElement: "#text4" })
							.setClassToggle(".factory_img.factory_4", "active") // add class toggle for factory image 4
							.addIndicators() // add indicators (requires plugin)
							.addTo(controller);
					})();

					// 全屏图片动画
					(function () {
						var controller = new ScrollMagic.Controller();

						// 创建全屏图片的淡入淡出动画
						var tween = gsap.timeline()
							.fromTo(".fullscreen_overlay",
								{ opacity: 0 },
								{ opacity: 1, duration: 1.5 }  // 较慢的淡入
							)
							.to(".fullscreen_overlay",
								{ opacity: 0, duration: 1.5 },  // 较慢的淡出
								"+=3"  // 停留3秒后开始淡出
							);

						// 创建场景，比工厂图片先出现，后消失
						var scene = new ScrollMagic.Scene({
							triggerElement: "#assistance",
							duration: 31000,  // 较长的动画持续时间
							offset: 800     // 比工厂图片提前出现
						})
							.setTween(tween)
							.addIndicators({ name: "全屏图片" }) // 开发时的指示器
							.addTo(controller);
					})();
				</script>
				<div style="height: 100vh;"></div>
				<div style="z-index: 1;">
					<img src="img/s3_1_这样的活力维持了一段时间.png" style="display: block; margin: auto;">
					<div style="height: 80vh;"></div>
					<img src="img/s3_2_但逐渐的，机器声音好像变得吃力.png" style="display: block; margin: auto;">
					<div style="height: 20vh;"></div>
					<img id="machine" src="img/s3_3.png" alt="" style="display: block; margin: auto; aspect-ratio: 16 / 1;">
					<script>
						// 使用 GSAP 创建自动向右移动的动画
						const movingImage = document.getElementById("machine");
						   // 获取图片的宽度
							const imageWidth = movingImage.offsetWidth;
								// 设置动画
							function startAnimation() {
								gsap.to(movingImage, {
									x: window.innerWidth / 2, // 向右移动到窗口宽度的一半
									duration: 10, // 动画持续时间
									ease: "power2.out", // 逐渐减慢的效果
									onComplete: () => {
										// 当动画完成时，将图片位置重置到左侧
										gsap.set(movingImage, { x: -imageWidth });
										// 重新开始动画
										startAnimation();
									}
								});
							}
								// 启动动画
							startAnimation();
					 </script>
					<div style="height: 50vh;"></div>
					<img src="img/s3_4_每次来接送我们的卡车也更脏，更破。.png" style="display: block; margin: auto;">
					<div style="height: 30vh;"></div>
					<img id="truck" src="img/s3_5.png" alt="" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_6_我听见一些工人嘴里说着.png" style="display: block; margin: auto;">
					<div style="height: 20vh;"></div>
					<img src="img/s3_7.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_8_原料问题.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_9_小麦种植.png" style="display: block; margin: auto;">
					<div style="height: 20vh;"></div>
					<img src="img/s3_10_小麦产量.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_11_首先用来制作辣条的面粉多为来自小麦主产区河南， 本地面粉产出量很低，价格偏高。.png" alt="" style="display: block; margin: auto;">
					<div style="height: 40vh;"></div>
					<div id="dive" style="height: 10vh;"></div>
					<img id="dive_truck" src="img/s3_che.png" alt="" style="display: block; margin: 10;">
					<img src="img/s3_12.png" alt="" style="display: block; margin: auto;">
					<script>
						(function () {
							// 创建 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							 // 创建场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#dive", // 触发元素
								triggerHook: 0 // 触发点
							})
							.setTween("#dive_truck", { x: 900, y: 700 , rotation:540}) // 使用 GSAP 动画
							.addIndicators() // 添加指示器（可选）
							.addTo(controller); // 将场景添加到控制器
						})();
					</script>
					<div style="height: 10vh;"></div>
					<img src="img/s3_13.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_14.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_15.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<!-- 开始修路 -->
					<div style="display: flex; justify-content: center; gap: 5vw;">
						<img src="img/s3_16_wa.png" style="display: block;">
						<img src="img/s3_16_tuo.png" style="display: block;">
						<img src="img/s3_16_ren.png" style="display: block;">
					</div>
					<div style="height: 30vh;"></div>
					<div class="line" style="display: block; margin: auto; text-align: center;">
						外面来了好多大机器，有带铲子的，有带巨大轮子的。<br>还有许多带着黄色帽子的人</div>
					<div style="height: 50vh;"></div>
					<div style="display: flex; justify-content: flex-start; width: 100%;">
						<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
							<div class="line" style="text-align: center; font-size: 100px;height: 50vh;">爆山了！</div>
							<div style="height: 50vh;"></div>
							<div class="line" style="text-align: center; font-size: 120px;height: 50vh;">铺水泥！</div>
							<div style="height: 50vh;"></div>
							<div class="line" style="text-align: center; font-size: 140px;height: 50vh;">点灯！</div>
						</div>
						<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
							<!-- 预留右半边三个图片占位 -->
							<div style="height: 50vh;">
								<img src="img/s3_16_ren.png">
							</div>
							<div style="height: 50vh;"></div>
							<div style="height: 50vh;">
								<img src="img/s3_16_ren.png">
							</div>
							<div style="height: 50vh;"></div>
							<div style="height: 50vh;">
								<img src="img/s3_16_ren.png">
							</div>
						</div>
					</div>
					<div style="height: 40vh;"></div>
					<!-- 新机器 -->
					<div style="display: flex; justify-content: flex-start; width: 100%;">
						
						<!-- 开车动画 -->
						<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
							
							<div style="height: 50vh; display: flex; justify-content: center; gap: 5vw;">
								<img src="img/s3_工厂4.png" alt="" style="transform: scale(80%);">
							</div>
						</div>
						<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
							<div id="pack" class="line" style="text-align: left;height: 50vh;"><br>同时我们被送入了一台新的机器，<br>出来后被印上了一个统一的名字-麻辣王子</div>
						</div>
					</div>
					<!-- 装车打包 -->
					<div style="position: relative;">
						<img id="pack_truck" src="img/s3_che.png" alt="" style="display: block; position: absolute;">
						<img src="img/s3_new.png" alt="" style="display: block; position: absolute; top: 0; left: 0;">
					</div>
					<script>
						(function () {
							// 创建 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 创建场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#pack", // 触发元素
								triggerHook: 0 // 触发点
							})
							.setTween("#pack_truck", { x: 1850, y: -100 , rotation:0}) // 使用 GSAP 动画
							.addIndicators() // 添加指示器（可选）
							.addTo(controller); // 将场景添加到控制器
						})();
					</script>
					<!-- 路修通了 -->
					<div style="height: 50vh;"></div>
					<img src="img/s3_b_1.png" style="display: block; margin: auto;">
					<div style="height: 10vh;"></div>
					<img src="img/s3_b_2.png" style="display: block; margin: auto;">
					<div style="height: 50vh;"></div>
					<img src="img/s3_b_3.png" style="display: block; margin: auto;">
					<div style="height: 10vh;"></div>
					<img src="img/s3_b_4.png" style="display: block; margin: auto;">
					<div style="height: 40vh;"></div>
					<!-- 修路对比 -->
					<!-- <div id="roadbattle" style="height: 40vh;"></div> -->
					<div id="roadbattle"></div>
					<div id="target" style="position: relative;height: 80vh;">
						<img src="img/s3_b_5.png" alt="" style="display: block; margin: auto;">
						<img src="img/s3_moutain.png" alt="" style="display: block; position: absolute; top: 0; left: 0;">
						<img id="old_truck" src="img/s3_che.png" alt="" style="display: block; position: absolute;top: 30vh;">
						<img src="img/s3_tunnel.png" alt="" style="display: block; position: absolute; top: 105vh;">
					</div>
					<script>
						(function () {
							// 创建 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 创建场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#roadbattle", // 触发元素
								duration:1000,
								offset:0,
								triggerHook: 0.1 // 触发点
							})
							.setTween("#old_truck", { x: 450, y: 400 , rotation:0}) // 使用 GSAP 动画
							.setPin("#target")
							.addIndicators() // 添加指示器（可选）
							.addTo(controller); // 将场景添加到控制器
						})();
					</script>
					<!-- <script>
						(function () { // wait for document ready
							var flightpath = {
								entry : {
									curviness: 1.25,
									autoRotate: true,
									values: [
											{x: 100,	y: -20},
											{x: 300,	y: 10}
										]
								},
								looping : {
									curviness: 1.25,
									autoRotate: true,
									values: [
											{x: 510,	y: 60},
											{x: 620,	y: -60},
											{x: 500,	y: -100},
											{x: 380,	y: 20},
											{x: 500,	y: 60},
											{x: 580,	y: 20},
											{x: 620,	y: 15}
										]
								},
								leave : {
									curviness: 1.25,
									autoRotate: true,
									values: [
											{x: 660,	y: 20},
											{x: 800,	y: 130},
											{x: $(window).width() + 300,	y: -100},
										]
								}
							};
							// init controller
							var controller = new ScrollMagic.Controller();

							// create tween
							var tween = new TimelineMax()
								.add(TweenMax.to($("#pack_truck"), 1.2, {css:{bezier:flightpath.entry}, ease:Power1.easeInOut}))
								.add(TweenMax.to($("#pack_truck"), 2, {css:{bezier:flightpath.looping}, ease:Power1.easeInOut}))
								.add(TweenMax.to($("#pack_truck"), 1, {css:{bezier:flightpath.leave}, ease:Power1.easeInOut}));

							// build scene
							var scene = new ScrollMagic.Scene({triggerElement: "#pack", duration: 500, offset: 100})
											.setPin("#target")
											.setTween(tween)
											.addIndicators() // add indicators (requires plugin)
											.addTo(controller);
						})
					</script> -->

				</div>
				<div style="height: 100vh;"></div>



			</section>

			<section id="constraint" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<div class="line title" style="text-align: center;font-size: 100px; z-index: 1;">CHAPTER3</div>
				<div class="line title" style="text-align: center;font-size: 160px; z-index: 1;">不能成为垃圾的我</div>
				<div style="height: 100vh;"></div>
				<div style="z-index: 0;">
					<img src="img/s4line01.svg">
				</div>
				<!-- <div style="z-index: 0;">
					<img src="img/s4line02.svg" >
				</div> -->
				<div style="height: 1500px;" id="lajidui">
					<img class="garbage" src="img/s4垃圾堆.svg">
					<img class="track" src="img/s4跑道.svg" style="transform: translateY(-500px);">
					<div class="spicy-strips"
						style="display: flex; justify-content: space-between; width: 100%; gap: 8px; transform: translateY(-1300px);">
						<img id="spicy-strip-left" src="img/s4辣条左.svg" style="transform: translateX(200px);">
						<img id="spicy-strip-center" src="img/s4辣条中.svg" style="transform: translateY(200px);">
						<img id="spicy-strip-right" src="img/s4辣条右.svg" style="transform: translateX(-200px);">
						<script>
							gsap.to("#spicy-strip-left", {
								y: -50,
								duration: 1,
								repeat: -1,
								yoyo: true,
								ease: "power1.inOut"
							});
							gsap.to("#spicy-strip-center", {
								y: 50,
								duration: 1,
								repeat: -1,
								yoyo: true,
								ease: "power1.inOut",
								delay: 0.5
							});
							gsap.to("#spicy-strip-right", {
								y: -50,
								duration: 1,
								repeat: -1,
								yoyo: true,
								ease: "power1.inOut",
								delay: 1
							});
						</script>
					</div>
					<img class="tv" src="img/s4电视.svg" style="transform: translateY(-1200px);">

					<script>
						(function () {
							// 初始化 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 创建 GSAP 动画
							var tween = gsap.timeline();
							tween.to(".garbage", { y: 2000, opacity: 0, duration: 2 })
								.to(".track", { y: -600, duration: 1.5 }, 0)
								.to(".spicy-strips", { y: -1600, duration: 1 }, 0)
								.to(".tv", { y: -1600, duration: 0.5 }, 0);

							// 创建 ScrollMagic 场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#lajidui",
								// duration: 1000,  // 动画持续的滚动距离
								offset: 1500     // 开始的偏移量
							})
								.setTween(tween)
								.addIndicators({ name: "垃圾堆" }) // 开发时可以保留，上线前删除
								.addTo(controller);
						})();
					</script>
				</div>
				<div style="z-index: 0;">
					<img src="img/s4line03.svg">
				</div>
				<div style="z-index: 0;">
					<img src="img/s4line04.svg">
				</div>

				<!-- <div style="height: 100vh;"></div> -->
			</section>

			<!-- 来一场主动的破局 -->
			<section id="transform" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<div 
				class="line title" 
				style="text-align: 
				center;font-size: 100px; z-index: 1;">CHAPTER4</div>
				<div class="line title" style="text-align: center;font-size: 160px; z-index: 1;">来一场主动的破局</div>
				<div style="height: 50vh;"></div>
				<!-- 章节正文 -->
				<!-- <div style="z-index: 1;"> -->
				<img src="img/s5_1.svg">
				<!-- <div style="height: 2000px">
					<img src="img/s5_2.svg" style="transform: translate(100px, 100px);">
					<img src="img/s5_文本框 窗前.svg" style="transform: translate(600px, -900px);">
					<img src="img/s5_直播.svg" style="transform: translate(-00px, 100px);">
					<img src="img/s5_文本框 上车.svg" style="transform: translate(100px, 100px);">
				</div> -->

				<div style="height: 1400px; width: 100%; position: relative; border: 1px solid black;">
					<img src="img/s5_2.svg" style="position: absolute; top: 0; left: 50%; transform: translateX(-50%);">
					<img src="img/s5_文本框 窗前.svg" style="position: absolute; top: 300px; left: 500px;">
					<img src="img/s5_直播.svg" style="position: absolute; top: 300px; right: 100px;">
					<img src="img/s5_文本框 上车.svg" style="position: absolute; top: 200px; right: 100px;">
				</div>
				<img src="img/s5_辣条之王.svg">
				<!-- </div> -->
				<div style="height: 100vh;"></div>
			</section>

			<section id="review" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<div class="line black title" style="text-align: center;font-size: 100px; z-index: 1;">CHAPTER5</div>
				<div class="line black title" style="text-align: center;font-size: 160px; z-index: 1;">那是我们的来时路</div>
				<div style="height: 80vh;"></div>
				<!-- 小辣回顾 -->
				<div style="display: flex; justify-content: flex-start; width: 100%;z-index: 1;">

					<!-- 产业图片 -->
					<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">

						<div style="height: 50vh;">
							<img src="img/s3_12.png">
						</div>
					</div>
					<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">

						<div class="line" style="text-align: left;height: 50vh;">
							<p>我叫小辣，这就是我的故事</p>
							<br>
							<br>
							<br>
							<p>谢谢你看到这里</p>
						</div>
					</div>
				</div>
				<div style="height: 20vh;"></div>
				<!-- 其他回顾 -->
				<div style="display: flex; justify-content: flex-start; width: 100%;z-index: 1;">
					<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
						<!-- 预留左半边2x2图片占位 -->
						<div style="display: flex; justify-content: space-between;">
							<div style=" display: flex; flex-direction: column; justify-content: space-between;">
								<img src="img/s3_16_ren.png" style="width: 100%;">
								<p style="text-align: center;">图片1题注</p>
							</div>
							<div style=" display: flex; flex-direction: column; justify-content: space-between;">
								<img src="img/s3_16_ren.png" style="width: 100%;">
								<p style="text-align: center;">图片2题注</p>
							</div>
						</div>
						<div style="height: 5vh;"></div>
						<div style="display: flex; justify-content: space-between;">
							<div style=" display: flex; flex-direction: column; justify-content: space-between;">
								<img src="img/s3_16_ren.png" style="width: 100%;">
								<p style="text-align: center;">图片3题注</p>
							</div>
							<div style=" display: flex; flex-direction: column; justify-content: space-between;">
								<img src="img/s3_16_ren.png" style="width: 100%;">
								<p style="text-align: center;">图片4题注</p>
							</div>
						</div>
					</div>
					<div style="width: 50%; display: flex; flex-direction: column; justify-content: space-between;">
						<div class="line" style="text-align: left;height: 50vh;">
							<p>后来，</p>
							<p>我还遇到了很多个“小辣”</p>
							<p>他们都像我一样</p>
							<p>再各自的家乡慢慢成长</p>
						</div>

					</div>

				</div>
			</section>

			<section id="summary" class="flex flex-col items-center justify-center">
				<div style="height: 40vh;"></div>
				<div class="line red title" style="text-align: center;font-size: 100px; z-index: 1;">CHAPTER6</div>
				<div class="line red title" style="text-align: center;font-size: 160px; z-index: 1;">星星之火 可以燎原</div>
				<div style="height: 80vh;"></div>
				<!-- <div style="height: 100vh;"></div> -->
			</section>
		</div>
		<footer
			class="fixed bottom-0 w-full bg-black bg-opacity-80 backdrop-blur-sm opacity-0 transition-opacity duration-500">
			<div class="container mx-auto px-6 py-4">
				<div class="flex flex-wrap justify-between items-center">
					<div class="flex space-x-6">
						<a href="#" class="hover:text-custom transition-colors">联系我们</a>
						<a href="#" class="hover:text-custom transition-colors">隐私政策</a>
						<a href="#" class="hover:text-custom transition-colors">帮助中心</a>
					</div>
					<div class="text-sm">© 2024 数据动画. 保留所有权利</div>
				</div>
			</div>
		</footer>
	</main>
	<!-- 背景图片切换 -->
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			// 获取所有section元素
			const sections = document.querySelectorAll('section');
			// 获取所有导航链接
			const navLinks = document.querySelectorAll('nav a');
			// 获取所有背景元素
			const backgrounds = document.querySelectorAll('.fixed.inset-0');
			// 获取所有缩略图元素
			const thumbnails = document.querySelectorAll('[data-section]');
			// 获取页脚元素
			const footer = document.querySelector('footer');
			// 定义观察器选项
			const observerOptions = {
				root: null,
				rootMargin: '-20% 0px',
				threshold: 0.01
			};
			// 创建观察器
			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						// 获取当前交叉的元素的ID
						const id = entry.target.getAttribute('id');
						// 根据当前交叉的元素ID，高亮对应的导航链接
						navLinks.forEach(link => {
							if (link.getAttribute('href') === `#${id}`) {
								link.classList.add('text-custom');
							} else {
								link.classList.remove('text-custom');
							}
						});
						// 根据当前交叉的元素ID，显示对应的背景
						backgrounds.forEach((bg, index) => {
							bg.style.opacity = index === Array.from(sections).findIndex(section => section.id === id) ? '1' : '0';
						});
						// 根据当前交叉的元素ID，显示对应的缩略图
						thumbnails.forEach(thumb => {
							const thumbSection = thumb.getAttribute('data-section');
							if (thumbSection === id) {
								thumb.style.transform = 'scale(1)';
								thumb.style.opacity = '1';
							} else {
								thumb.style.transform = 'scale(0)';
								thumb.style.opacity = '0';
							}
						});
						// 如果当前交叉的元素ID是"summary"，则显示页脚
						if (id === 'summary') {
							footer.style.opacity = '1';
						} else {
							footer.style.opacity = '0';
						}
					}
				});
			}, observerOptions);

			// 对每个section元素进行观察
			sections.forEach(section => observer.observe(section));

			// 获取移动菜单按钮和移动菜单
			const mobileMenuButton = document.querySelector('nav button');
			const mobileMenu = document.querySelector('nav div.hidden');
			// 监听移动菜单按钮的点击事件
			mobileMenuButton.addEventListener('click', () => {
				// 切换移动菜单的显示和隐藏
				mobileMenu.classList.toggle('hidden');
				mobileMenu.classList.toggle('flex');
			});

			// 监听所有锚点链接的点击事件
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();
					// 获取目标元素的ID
					const targetId = this.getAttribute('href');
					console.log(targetId);
					// 获取目标元素
					const targetElement = document.querySelector(targetId);
					// 如果目标元素存在，则平滑滚动到目标元素
					if (targetElement) {
						targetElement.scrollIntoView({ behavior: 'smooth' });
					}
				});
			});
		});
	</script>
	<!-- 自动播放按钮 -->
	<script>
		let autoScroll = false; // 自动滚动状态
		let scrollInterval;

		document.getElementById('scrollToggle').addEventListener('click', function () {
			autoScroll = !autoScroll; // 切换状态
			this.textContent = autoScroll ? '关闭自动滚动' : '开启自动滚动'; // 更新按钮文本

			if (autoScroll) {
				scrollInterval = setInterval(() => {
					window.scrollBy(0, 1); // 每次向下滚动1px
				}, 20); // 每20毫秒滚动一次
			} else {
				clearInterval(scrollInterval); // 停止滚动
			}
		});
	</script>

</body>

</html>