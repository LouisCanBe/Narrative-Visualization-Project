<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
	<link href="https://ai-public.mastergo.com/gen_page/tailwind-custom.css" rel="stylesheet" />
	<script
		src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
	<script src="https://ai-public.mastergo.com/gen_page/tailwind-config.min.js" data-color="#D20000"
		data-border-radius="medium"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.min.js"></script>
	<style>
		/* 隐藏默认滚动条 */
		::-webkit-scrollbar {
			width: 8px;
		}

		/* 滚动条轨道 */
		::-webkit-scrollbar-track {
			background: rgba(0, 0, 0, 0.1);
		}

		/* 滚动条滑块 */
		::-webkit-scrollbar-thumb {
			background: rgba(210, 0, 0, 0.5);
			border-radius: 4px;
		}

		/* 鼠标悬停在滑块上的效果 */
		::-webkit-scrollbar-thumb:hover {
			background: rgba(210, 0, 0, 0.8);
		}

		.line {
			color: #FFF;
			font-family: "Alibaba PuHuiTi 2.0";
			font-size: 30px;
			font-style: normal;
			font-weight: 70;
			line-height: normal;
			letter-spacing: 10px;
		}
	</style>
</head>

<body class="bg-black text-white overflow-x-hidden">
	<nav class="fixed top-0 w-full bg-black bg-opacity-80 backdrop-blur-sm z-50">
		<div class="container mx-auto px-6 py-4">
			<div class="flex justify-between items-center">
				<div class="text-2xl font-bold">我，辣条</div>
				<div class="hidden md:flex space-x-8">
					<a href="#intro" class="hover:text-custom transition-colors">intro</a>
					<a href="#origin" class="hover:text-custom transition-colors">诞生</a>
					<a href="#constraint" class="hover:text-custom transition-colors">约束</a>
					<a href="#transform" class="hover:text-custom transition-colors">转型</a>
					<a href="#review" class="hover:text-custom transition-colors">回顾</a>
					<a href="#summary" class="hover:text-custom transition-colors">总结</a>
				</div>
				<button class="md:hidden text-2xl">
					<i class="fas fa-bars"></i>
				</button>
			</div>
		</div>
	</nav>
	<main class="relative min-h-screen">
		<div class="fixed inset-0 w-full h-full transition-opacity duration-1000">
			<img src="img/s1_bg01.png" class="w-full h-full object-cover" alt="背景图片" />
		</div>
		<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
			<img src="img/s2_bg02.svg" class="w-full h-full object-cover" alt="背景图片2" />
		</div>
		<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
			<img src="img/image (3).png" class="w-full h-full object-cover" alt="背景图片3" />
		</div>
		<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
			<img src="img/image (4).png" class="w-full h-full object-cover" alt="背景图片4" />
		</div>
		<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
			<img src="img/image (5).png" class="w-full h-full object-cover" alt="背景图片5" />
		</div>
		<div class="fixed inset-0 w-full h-full opacity-0 transition-opacity duration-1000">
			<img src="img/image (5).png" class="w-full h-full object-cover" alt="背景图片6" />
		</div>

		<div class="relative pt-24 pb-20 w-full">

			<section id="intro" class="flex flex-col items-center justify-center">
				<img id="spicy-strip" src="img/s1_latiao.svg" alt="辣条开始"
					style="width: 25vw; position: fixed; top: 120%; left: 50%; transform: translate(-50%, -50%);">
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 创建 GSAP 动画，滚动一定距离后再边滚动边消失
						var tween = gsap.timeline();
						tween.to("#spicy-strip", { y: -800, duration: 1 })
							.to("#spicy-strip", { opacity: 0, duration: 1 }, "-=0.5");

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#intro",
							duration: 400,
							offset: 600
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
				<div style="height: 50vh;"></div>
				<div class="line">我，一根辣条</div>
				<div class="line">那在便利店、街头小摊以及学校随处可见的平凡零食</div>
				<div class="line">我已经成为了人们生活中的一部分</div>
				<div class="line">无论是在课间休息时的解馋，还是在忙碌工作中的片刻放松</div>
				<div class="line">然而，谁又能想到</div>
				<div class="line">一根辣条，曾左右一个地方的脱贫致富</div>
				<div class="line">甚至带动一个企业的上市</div>

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".line", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 })
							.to(".line", { opacity: 0, duration: 1, stagger: 0.5, delay: 0.5 }, 0.5)
						// .to(".line:last-child", { opacity: 1, duration: 1 }, "-=1");


						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#intro",
							duration: 400,
							offset: 300 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<div style="display: flex; justify-content: center; gap: 20px;">
					<img class="zuofang" src="img/s1_zuofang.png" alt="作坊" style="width: 40vw; opacity: 0;">
					<img class="zuofang" src="img/s1_factory.png" alt="工厂" style="width: 45vw; opacity: 0;">
					<script>
						(function () {
							// 初始化 ScrollMagic 控制器
							var controller = new ScrollMagic.Controller();

							// 创建 GSAP 动画，使用 stagger
							var tween = gsap.to(".zuofang", { opacity: 1, duration: 1, stagger: 0.5 });

							// 创建 ScrollMagic 场景
							var scene = new ScrollMagic.Scene({
								triggerElement: "#intro",
								duration: 100,
								offset: 500
							})
								.setTween(tween)
								.addIndicators() // 添加指示器（需要插件）
								.addTo(controller);
						})();
					</script>

				</div>
				<div style="height: 10vh;"></div>
				<img src="img/s1_title.png" alt="辣条正传" style="width: 200vw; z-index: 999;">
				<img src="img/s1_xiaola.gif" alt="s1_xiaola style=" width: 40vw; margin-top: -150px; z-index: 1;">
				<img src="img/s1_intro.svg" alt="字1" style="width: 120vw;" class="min-w-screen">
				<div style="height: 100vh;"></div>
			</section>

			<section id="origin" class="flex flex-col items-center justify-center">
				<div style="height: 50vh;"></div>
				<img class="line_2 line" src="img/s2_title.svg" alt="诞生" style="width: 40vw; opacity: 0;">
				<div style="height: 50vh;"></div>
				<div class="line_2 line" style="text-align: center; opacity: 0;">我诞生于一场湿漉漉的“想象”</div>
				<div style="height: 50vh;"></div>
				<div class="line_2 line" style="text-align: center; opacity: 0;">1998年,受厄尔尼诺现象影响,
					<br>长江流域爆发大规模洪水,湖南省平江县受灾严重
				</div>
				<div style="height: 50vh;"></div>
				<div class="line_2 line" style="text-align: center; opacity: 0;">平江县最大的产业酱干的原料大豆, <br>大幅度减产,生意难以为继</div>
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();

						// 使用 GSAP 的 staggerFromTo 创建动画
						var tween = gsap.timeline();
						tween.fromTo(".line_2", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 1 })
							.to(".line_2", { opacity: 0, duration: 1, stagger: 1, delay: 1 }, 1);
						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#origin",
							duration: 1800,
							offset: 300 // 添加 offset，延迟一定距离触发
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<div style="display: flex; justify-content: center; gap: 50vw; transform: translateY(-250px);"
					id="chanliangid">
					<img class="chanliang" src="img/s2_面积产量.svg" style="width: 20vw">
					<img class="chanliang" src="img/s2_洪水中大豆产量.svg" style="width: 20vw">
				</div>
				<div style="height: 20vh;"></div>
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，使用 stagger
						var tween = gsap.fromTo(".chanliang", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#chanliangid",
							duration: 80,
							// offset: 800
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>

				<div style="height: 100vh;"></div>

				<img id="rain" class="scroll-image" src="img/s2_下雨.svg" alt="下雨"
					style="width: 900px; transform: translate(-500px, -300px);">
				<img id="secret" class="scroll-image" src="img/s2_秘方.svg" alt="秘方"
					style="width: 150px; transform: translate(-830px, -650px);">
				<img class="scroll-image" src="img/s2_替代.svg" alt="替代"
					style="width: 400px; transform: translate(-500px, -1200px);">
				<img class="scroll-image" id="exportImage" src="img/s2_出口.svg" alt="出口"
					style="width: 100px; transform: translate(-600px, -900px);">
				<img id="latiao" class="scroll-image" src="img/s2_辣条.svg" alt="辣条"
					style="width: 700px; transform: translate(-300px, -1000px);">

				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，依次显示图片
						var tween = gsap.fromTo(".scroll-image", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: "#rain",
							duration: 200
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>


				<script>
					gsap.to("#exportImage", {
						rotation: 360,
						transformOrigin: "center center",
						repeat: -1,
						ease: "linear",
						duration: 3
					});
				</script>
				<!-- <img id="backgroundImage" src="img/s2_长背景图.svg" style="width: 100vw; transform: scale(1); transform-origin: center; transform: translate(0, -200vh);"> -->


				<div class="line_3 line" style="text-align: left; opacity: 1; transform: translate(300px, -2800px);">
					<div class="line3">面对灾情</div>
					<div class="line3">老张拿着一张“酱干”配方</div>
					<div class="line3">利用”面粉“代替了原料“大豆”</div>
					<div class="line3">倒入了“米线机”中，翻滚、压扁、拉长</div>
					<div class="line3">于是，第一根“辣条”-我诞生了</div>
				</div>
				<script>
					(function () {
						// 初始化 ScrollMagic 控制器
						var controller = new ScrollMagic.Controller();
						// 创建 GSAP 动画，逐行显示
						var tween = gsap.fromTo(".line3", { opacity: 0 }, { opacity: 1, duration: 1, stagger: 0.5 });

						// 创建 ScrollMagic 场景
						var scene = new ScrollMagic.Scene({
							triggerElement: ".line_3",
							duration: 200
						})
							.setTween(tween)
							.addIndicators() // 添加指示器（需要插件）
							.addTo(controller);
					})();
				</script>
				<div style="width: 1600px; transform: translate(-10px, -1900px);">
					<img src="img/s2girl.svg" alt="girl" style="width: 100%;">
					<img src="img/s2真好吃.svg" alt="girl" style="width: 30%; position: absolute; top: 20px; left: 1200px;">
				</div>

				<div style="width: 100%; transform: translate(-10px, -1300px);">
					<img src="img/s2我火辣.svg" alt="girl" style="width: 40%; display: block; margin: 0 auto;">
					<img src="img/s2滋味背景.svg" alt="girl" style="width: 100%; transform: translateY(-50%);">
				</div>

				<div style="width: 100%; transform: translate(-10px, -1300px);">
				<img src="img/s2人类小孩.svg" alt="girl" style="width: 60%; display: block; margin: 0 auto; position: relative; z-index: 1;">
				<img src="img/s2辣条商店.svg" alt="girl" style="width: 100%; transform: translateY(-100%); position: relative; z-index: 0;">
				</div>

				<img src="img/s2招牌.svg" style="width:60%; transform: translateY(-2300px)">
				<img src="img/s2众多辣条.svg" style="width:100%; transform: translateY(-2100px)">


				<div style="height: 100vh;"></div>
			</section>

			<section id="constraint" class="flex items-center justify-center">
				<div style="height: 100vh;"></div>
			</section>

			<section id="transform" class="flex flex-col items-center justify-center">
				<div style="height: 100vh;"></div>
			</section>

			<section id="review" class="flex items-center justify-center">
				<div style="height: 100vh;"></div>
			</section>

			<section id="summary" class="flex items-center justify-center">
				<div style="height: 100vh;"></div>
			</section>
		</div>
		<footer
			class="fixed bottom-0 w-full bg-black bg-opacity-80 backdrop-blur-sm opacity-0 transition-opacity duration-500">
			<div class="container mx-auto px-6 py-4">
				<div class="flex flex-wrap justify-between items-center">
					<div class="flex space-x-6">
						<a href="#" class="hover:text-custom transition-colors">联系我们</a>
						<a href="#" class="hover:text-custom transition-colors">隐私政策</a>
						<a href="#" class="hover:text-custom transition-colors">帮助中心</a>
					</div>
					<div class="text-sm">© 2024 数据动画. 保留所有权利</div>
				</div>
			</div>
		</footer>
	</main>
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			// 获取所有section元素
			const sections = document.querySelectorAll('section');
			// 获取所有导航链接
			const navLinks = document.querySelectorAll('nav a');
			// 获取所有背景元素
			const backgrounds = document.querySelectorAll('.fixed.inset-0');
			// 获取所有缩略图元素
			const thumbnails = document.querySelectorAll('[data-section]');
			// 获取页脚元素
			const footer = document.querySelector('footer');
			// 定义观察器选项
			const observerOptions = {
				root: null,
				rootMargin: '-20% 0px',
				threshold: 0.00001
			};
			// 创建观��器
			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						// 获取当前交叉的元素的ID
						const id = entry.target.getAttribute('id');
						// 根据当前交叉的元素ID，高亮对应的导航链接
						navLinks.forEach(link => {
							if (link.getAttribute('href') === `#${id}`) {
								link.classList.add('text-custom');
							} else {
								link.classList.remove('text-custom');
							}
						});
						// 根据当前交叉的元素ID，显示对应的背景
						backgrounds.forEach((bg, index) => {
							bg.style.opacity = index === Array.from(sections).findIndex(section => section.id === id) ? '1' : '0';
						});
						// 根据当前交叉的元素ID，显示对应的缩略图
						thumbnails.forEach(thumb => {
							const thumbSection = thumb.getAttribute('data-section');
							if (thumbSection === id) {
								thumb.style.transform = 'scale(1)';
								thumb.style.opacity = '1';
							} else {
								thumb.style.transform = 'scale(0)';
								thumb.style.opacity = '0';
							}
						});
						// 如果当前交叉的元素ID是"summary"，则显示页脚
						if (id === 'summary') {
							footer.style.opacity = '1';
						} else {
							footer.style.opacity = '0';
						}
					}
				});
			}, observerOptions);

			// 对每个section元素进行观察
			sections.forEach(section => observer.observe(section));

			// 获取移动菜单按钮和移动菜单
			const mobileMenuButton = document.querySelector('nav button');
			const mobileMenu = document.querySelector('nav div.hidden');
			// 监听移动菜单按钮的点击事件
			mobileMenuButton.addEventListener('click', () => {
				// 切换移动菜单的显示和隐藏
				mobileMenu.classList.toggle('hidden');
				mobileMenu.classList.toggle('flex');
			});

			// 监听所有锚点链接的点击事件
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();
					// 获取目标元素的ID
					const targetId = this.getAttribute('href');
					console.log(targetId);
					// 获取目标元素
					const targetElement = document.querySelector(targetId);
					// 如果目标元素存在，则平滑滚动到目标元素
					if (targetElement) {
						targetElement.scrollIntoView({ behavior: 'smooth' });
					}
				});
			});
		});
	</script>

</body>

</html>